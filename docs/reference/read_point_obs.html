<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Read point observations from OBSTABLE files — read_point_obs • harpIO</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Read point observations from OBSTABLE files — read_point_obs" />
<meta property="og:description" content="Data are read directly from OBSTABLE files with no modification except in the
case of precipitation accumulations. Where possible, observations that are
not available for the given accumulation time, they are derived from
observations for other accumulation times, either by subtraction or addition." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">harpIO</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9156</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/file_options.html">Options for file formats</a>
    </li>
    <li>
      <a href="../articles/read_raw_forecast.html">Reading forecast model data</a>
    </li>
    <li>
      <a href="../articles/transformations.html">Transforming forecast model data</a>
    </li>
    <li>
      <a href="../articles/write_forecast_data.html">Writing forecast model data</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/harphub/harpIO/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Read point observations from OBSTABLE files</h1>
    <small class="dont-index">Source: <a href='https://github.com/harphub/harpIO/blob/master/R/read_point_obs.R'><code>R/read_point_obs.R</code></a></small>
    <div class="hidden name"><code>read_point_obs.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Data are read directly from OBSTABLE files with no modification except in the
case of precipitation accumulations. Where possible, observations that are
not available for the given accumulation time, they are derived from
observations for other accumulation times, either by subtraction or addition.</p>
    </div>

    <pre class="usage"><span class='fu'>read_point_obs</span>(
  <span class='no'>start_date</span>,
  <span class='no'>end_date</span>,
  <span class='no'>parameter</span>,
  <span class='kw'>obs_path</span> <span class='kw'>=</span> <span class='st'>"."</span>,
  <span class='kw'>obsfile_template</span> <span class='kw'>=</span> <span class='st'>"obstable"</span>,
  <span class='kw'>gross_error_check</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>min_allowed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>max_allowed</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>stations</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>vertical_coordinate</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>NA_character_</span>, <span class='st'>"pressure"</span>, <span class='st'>"model"</span>, <span class='st'>"height"</span>)
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>start_date</th>
      <td><p>The start date of the observations to read.</p></td>
    </tr>
    <tr>
      <th>end_date</th>
      <td><p>The end date of the observations to read.</p></td>
    </tr>
    <tr>
      <th>parameter</th>
      <td><p>Which parameter to read. This will normally be a harp3
parameter name.</p></td>
    </tr>
    <tr>
      <th>obs_path</th>
      <td><p>The path to the OBSTABLE files</p></td>
    </tr>
    <tr>
      <th>obsfile_template</th>
      <td><p>The template for the OBSTABLE file name.</p></td>
    </tr>
    <tr>
      <th>gross_error_check</th>
      <td><p>Logical of whether to perform a gross error check.</p></td>
    </tr>
    <tr>
      <th>min_allowed</th>
      <td><p>The minimum value of observation to allow in the gross
error check. If set to NULL the default value for the parameter is used.</p></td>
    </tr>
    <tr>
      <th>max_allowed</th>
      <td><p>The maximum value of observation to allow in the gross
error check. If set to NULL the default value for the parameter is used.</p></td>
    </tr>
    <tr>
      <th>stations</th>
      <td><p>The stations to retrieve observations for. This should be a
vector of station ID numbers. Set to NULL to retrieve all stations.</p></td>
    </tr>
    <tr>
      <th>vertical_coordinate</th>
      <td><p>If upper air for multiple levels are to be read,
the vertical coordinate of the data is given here. The default is
"pressure", but can also be "model" for model levels, or "height" for
height above ground /sea level.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A tibble with columns for validdate, SID and the parameter.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='kw'>if</span> (<span class='fu'><a href='https://rdrr.io/r/base/ns-load.html'>requireNamespace</a></span>(<span class='st'>"harpData"</span>, <span class='kw'>quietly</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>)) {
  <span class='fu'>read_point_obs</span>(
    <span class='fl'>2019021700</span>,
    <span class='fl'>2019022023</span>,
    <span class='st'>"T2m"</span>,
    <span class='kw'>obs_path</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"OBSTABLE"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"harpData"</span>)
  )

  <span class='co'># stations can be specified using a vector of station ID numbers</span>
  <span class='fu'>read_point_obs</span>(
    <span class='fl'>2019021700</span>,
    <span class='fl'>2019022023</span>,
    <span class='st'>"T2m"</span>,
    <span class='kw'>obs_path</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"OBSTABLE"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"harpData"</span>),
    <span class='kw'>stations</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='fl'>1001</span>, <span class='fl'>1010</span>)
  )

  <span class='co'># Gross error checks are done automatically but the allowable values</span>
  <span class='co'># can be changed with min_allowed and max_allowed.</span>
  <span class='no'>obs</span> <span class='kw'>&lt;-</span> <span class='fu'>read_point_obs</span>(
    <span class='fl'>2019021700</span>,
    <span class='fl'>2019022023</span>,
    <span class='st'>"T2m"</span>,
    <span class='kw'>obs_path</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"OBSTABLE"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"harpData"</span>),
    <span class='kw'>min_allowed</span> <span class='kw'>=</span> <span class='fl'>260</span>,
    <span class='kw'>max_allowed</span> <span class='kw'>=</span> <span class='fl'>280</span>
  )

  <span class='co'># The removed observations are stored in the attribute "bad_obs"</span>
  <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>obs</span>, <span class='st'>"bad_obs"</span>)

  <span class='co'># For vertical profiles, the vertical coordinate must be specified</span>
  <span class='fu'>read_point_obs</span>(
    <span class='fl'>2019021700</span>,
    <span class='fl'>2019022023</span>,
    <span class='st'>"Z"</span>,
    <span class='kw'>obs_path</span>            <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/system.file.html'>system.file</a></span>(<span class='st'>"OBSTABLE"</span>, <span class='kw'>package</span> <span class='kw'>=</span> <span class='st'>"harpData"</span>),
    <span class='kw'>vertical_coordinate</span> <span class='kw'>=</span> <span class='st'>"pressure"</span>
  )
}</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andrew Singleton, Alex Deckmyn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


