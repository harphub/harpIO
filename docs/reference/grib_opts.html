<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Set options for grib files — grib_opts • harpIO</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Set options for grib files — grib_opts" />
<meta property="og:description" content="In general options for grib files do not need to be explicitly set. However,
if you wish to be explicit about how to find a field in a grib file you make
use of the param_find argument. Here you pass a named list with the
parameters given in e.g. read_forecast or read_grid you wish to
be explicit about as the names. The helper functions use_grib_* can be used
to set key value pairs to use in the search." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">harpIO</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9176</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/file_options.html">Options for file formats</a>
    </li>
    <li>
      <a href="../articles/read_raw_forecast.html">Reading forecast model data</a>
    </li>
    <li>
      <a href="../articles/transformations.html">Transforming forecast model data</a>
    </li>
    <li>
      <a href="../articles/write_forecast_data.html">Writing forecast model data</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/harphub/harpIO/">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Set options for grib files</h1>
    <small class="dont-index">Source: <a href='https://github.com/harphub/harpIO/blob/master/R/grib_opts.R'><code>R/grib_opts.R</code></a></small>
    <div class="hidden name"><code>grib_opts.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>In general options for grib files do not need to be explicitly set. However,
if you wish to be explicit about how to find a field in a grib file you make
use of the <code>param_find</code> argument. Here you pass a named list with the
parameters given in e.g. <a href='read_forecast.html'>read_forecast</a> or <a href='read_grid.html'>read_grid</a> you wish to
be explicit about as the names. The helper functions use_grib_* can be used
to set key value pairs to use in the search.</p>
    </div>

    <pre class="usage"><span class='fu'>grib_opts</span>(
  <span class='kw'>meta</span> <span class='kw'>=</span> <span class='fl'>TRUE</span>,
  <span class='kw'>multi</span> <span class='kw'>=</span> <span class='fl'>FALSE</span>,
  <span class='kw'>param_find</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>level_find</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='no'>...</span>
)

<span class='fu'>use_grib_key</span>(<span class='no'>key</span>, <span class='no'>value</span>)

<span class='fu'>use_grib_indicatorOfParameter</span>(<span class='no'>value</span>)

<span class='fu'>use_grib_paramId</span>(<span class='no'>value</span>)

<span class='fu'>use_grib_shortName</span>(<span class='no'>value</span>)

<span class='fu'>use_grib_key_level</span>(<span class='no'>key</span>, <span class='no'>value</span>, <span class='kw'>level</span> <span class='kw'>=</span> -<span class='fl'>999</span>)

<span class='fu'>use_grib_indicatorOfTypeOfLevel</span>(<span class='no'>value</span>, <span class='kw'>level</span> <span class='kw'>=</span> -<span class='fl'>999</span>)

<span class='fu'>use_grib_typeOfLevel</span>(<span class='no'>value</span>, <span class='kw'>level</span> <span class='kw'>=</span> -<span class='fl'>999</span>)

<span class='fu'>use_grib_heightAboveGround</span>(<span class='kw'>level</span> <span class='kw'>=</span> -<span class='fl'>999</span>)

<span class='fu'>use_grib_pressure</span>(<span class='kw'>level</span> <span class='kw'>=</span> -<span class='fl'>999</span>)

<span class='fu'>use_grib_hybrid</span>(<span class='kw'>level</span> <span class='kw'>=</span> -<span class='fl'>999</span>)

<span class='fu'>use_grib_model</span>(<span class='kw'>level</span> <span class='kw'>=</span> -<span class='fl'>999</span>)

<span class='fu'>use_grib_surface</span>()

<span class='fu'>use_grib_meanSea</span>()</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>meta</th>
      <td><p>Logical. Whether to read metadata</p></td>
    </tr>
    <tr>
      <th>multi</th>
      <td><p>Logical. Whether there are multi field grib messages.</p></td>
    </tr>
    <tr>
      <th>param_find</th>
      <td><p>A named list with names being the parameters to find in the
grib files. Each element of the named list is a list with names "key" and
"value". The default is NULL, which means to attempt to automatically find
the parameter using shortName from the appropriate grib table.</p></td>
    </tr>
    <tr>
      <th>level_find</th>
      <td><p>A named list with names being the parameters to find in the
grib files. Each element of the named list is a list with names "key",
"value" and "level". Here "key" is the grib key to be used to find the
level, "value" is the value of the grib key and "level" is the value of the
level. Set level = -999 to select all available levels. The default is
NULL, which means to attempt to automatically find the level.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Any other options that may exist in future Rgrib2 versions.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of options for reading grib files.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>If harp is not aware of the grib shortName for the field you wish to read, or
harp has the wrong shortName you can set <code>param_find</code> using
<code>use_grib_shortName()</code>. Alternatively if the field you wish to read does
not have a shortName, but has a value for indicatorOfParameter you can set
<code>param_find</code> using <code>use_grib_indicatorOfParameter()</code>, and the same
applies for paramId using <code>use_grib_paramId()</code>.</p>
<p>You can use other grib key value pairs to find fields in a grib file by
setting <code>param_find</code> with <code>use_grib_key</code> giving it the key and
value to search for. Finally, each element of <code>param_find</code> can be simply
set using a list with names "key" and "value".</p>
<p>Similarly, although harp knows the type of vertical level most parameters are
on, you may need to set this explicitly with the <code>level_find</code> argument
which is a list that selects which grib key to use to find the type of level,
the value of that grib key that corresponds to the desired type of level and
the value of the level itself. As for <code>param_find</code>, there are helper
functions to help you to set the desired values for <code>level_find</code>.</p>
<p>You can use <code>use_grib_key_level</code> to set the grib key, value and level
explicitly; <code>use_grib_typeOfLevel</code> to use the typeOfLevel grib key and
explicitly set the value and level, similarly with
<code>use_grib_indicatorOfTypeOfLevel</code>; <code>use_grib_heightAboveGround</code>,
<code>use_grib_pressure</code>, <code>use_grib_hybrid</code> to set a height, pressure or
hybrid level respectively; and <code>use_grib_surface</code> and
<code>use_grib_meanSea</code> to select the surface and mean sea levels
respectively.</p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><span class='fu'>grib_opts</span>()
<span class='fu'>grib_opts</span>(<span class='kw'>param_find</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>S10m</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>key</span> <span class='kw'>=</span> <span class='st'>"shortName"</span>, <span class='kw'>value</span> <span class='kw'>=</span> <span class='st'>"WS10"</span>)))
<span class='fu'>grib_opts</span>(<span class='kw'>param_find</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>S10m</span> <span class='kw'>=</span> <span class='fu'>use_grib_key</span>(<span class='st'>"shortName"</span>, <span class='st'>"WS10"</span>)))
<span class='fu'>grib_opts</span>(<span class='kw'>param_find</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>S10m</span> <span class='kw'>=</span> <span class='fu'>use_grib_shortName</span>(<span class='st'>"WS10"</span>)))
<span class='fu'>grib_opts</span>(
  <span class='kw'>param_find</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>T2m</span> <span class='kw'>=</span> <span class='fu'>use_grib_shortName</span>(<span class='st'>"t"</span>)),
  <span class='kw'>level_find</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span>(<span class='kw'>T2m</span> <span class='kw'>=</span> <span class='fu'>use_grib_typeOfLevel</span>(<span class='st'>"heightAboveGround"</span>, <span class='fl'>2</span>))
)
<span class='fu'>use_grib_key</span>(<span class='st'>"indicatorOfParameter"</span>, <span class='fl'>65</span>)
<span class='fu'>use_grib_indicatorOfParameter</span>(<span class='fl'>65</span>)
<span class='fu'>use_grib_key</span>(<span class='st'>"paramId"</span>, <span class='fl'>33</span>)
<span class='fu'>use_grib_paramId</span>(<span class='fl'>33</span>)
<span class='fu'>use_grib_key</span>(<span class='st'>"shortName"</span>, <span class='st'>"tp"</span>)
<span class='fu'>use_grib_shortName</span>(<span class='st'>"tp"</span>)
<span class='fu'>use_grib_key_level</span>(<span class='st'>"typeOfLevel"</span>, <span class='st'>"heightAboveGround"</span>, <span class='fl'>2</span>)
<span class='fu'>use_grib_typeOfLevel</span>(<span class='st'>"heightAboveGround"</span>, <span class='fl'>2</span>)
<span class='fu'>use_grib_heightAboveGround</span>(<span class='fl'>2</span>)
<span class='fu'>use_grib_indicatorOfTypeOfLevel</span>(<span class='fl'>105</span>, <span class='fl'>2</span>)
<span class='fu'>use_grib_pressure</span>(<span class='fl'>500</span>)
<span class='fu'>use_grib_surface</span>()</pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Andrew Singleton, Alex Deckmyn.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


